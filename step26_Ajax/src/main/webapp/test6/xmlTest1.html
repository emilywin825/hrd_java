<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<h2>onreadystatechange 속성 사용 - xml 응답</h2>

<script>
	window.onload=function(){
		var xhr=new XMLHttpRequest();
		
		xhr.onreadystatechange=function(event){
			if(xhr.readyState==4/* (=XMLHttpRequest.DONE) */){
				if(xhr.status==200){
					//alert(xhr.responseXML);
					var xml=xhr.responseXML;
					var rootE=xml.getElementsByTagName("testxml");
					var output='';
					
					//alert(rootE[0].childNodes.length);
					//alert(rootE[0].childNodes[1].nodeName);
					
					for(var i=1; i<rootE[0].childNodes.length; i+=2){
						//alert(rootE[0].childNodes[i].nodeName);
						output+="<h3>"+rootE[0].childNodes[i].firstChild.nodeValue+"</h3>";
						document.body.innerHTML+=output;
					}	
				}
			}
		};
		xhr.open('GET', 'sample.xml', true);
		xhr.send();
	}

</script>



</body>
</html>